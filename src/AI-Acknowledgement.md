# AI Acknowledgement Documentation

---

“Today, more than a quarter of all new code at Google is generated by AI, then reviewed and accepted by engineers.” - Sundar Pichai, CEO of Google.

I acknowledge the use of ChatGPT in generating content included in this submission (OpenAI, 2025). The prompts and output from ChatGPT are included in the file below.
****
### Luke Lewis, FAN: LEWI0454
This section will contain my AI acknowledgements, all AI usage for my parts was from:
- (2025). ChatGPT (October, 2025, ChatGPT 5) [Large language model]. https://chat.openai.com/chat

[Create booking request](user/skill_search_handler/booking_request.php): 

**Prompt:** 

Help me create a booking request file that checks if the user has selected a valid time slot, and sufficient funds. 

**Output:**

[File](user/skill_search_handler/booking_request.php)

[Create confirmation pop-up](user/skill_search_handler/confirmation_popup_script.js): 

**Prompt:** 

Help me create a confirmation pop up that displays how much the booking costs, and checks if the user has enough credits when they select yes.

**Output:**

[File](user/skill_search_handler/confirmation_popup_script.js)

**Prompt:** 

Help me create code that displays the available time slots from the Listings and Availability tables.

**Output:**

    window.BOOKING_CONTEXT = {
        price: <?= json_encode($price) ?>,
        userCredits: <?= json_encode($userCredits) ?>,
        isLoggedIn: <?= json_encode((bool)$username) ?>
      };
      // Data from PHP
      const AVAILABLE_SLOTS = <?= json_encode($slots, JSON_UNESCAPED_SLASHES | JSON_UNESCAPED_UNICODE) ?>;

      // Simple: fill a <select> with options from slots
      function populateAvailabilitySelect(selectEl, slots) {
        if (!selectEl) return;

        // Clear existing dynamic options (keep the first placeholder)
        while (selectEl.options.length > 1) selectEl.remove(1);

        if (!Array.isArray(slots) || slots.length === 0) {
          // Replace placeholder text if nothing available
          selectEl.options[0].textContent = 'No availability';
          selectEl.disabled = true;
          return;
        }

        // Add options: value as "start|end", label as human-readable
        for (const s of slots) {
          const opt = document.createElement('option');
          opt.value = `${s.start}|${s.end}`;
          opt.textContent = s.label ?? `${s.start} – ${s.end}`;
          selectEl.appendChild(opt);
        }
        selectEl.disabled = false;
      }

      // Run after DOM is ready
      document.addEventListener('DOMContentLoaded', () => {
        const sel = document.getElementById('availability-select');
        populateAvailabilitySelect(sel, AVAILABLE_SLOTS);
      });

****

---

### Oliver Wuttke, FAN: WUTT0019

This section will contain my AI acknowledgements, all AI usage for my parts was from:

- (2025). ChatGPT (October, 2025, ChatGPT 5) [Large language model]. https://chat.openai.com/chat

[Get conversations SQL query](messages/get_conversations.php)

**Prompt:**

(pasted the current schema.sql file first, it's in db/init/schema.sql), given the above schema can you help me craft a SQL query that will return all conversations for a given user, timestamps and their unseen status.

**Output:**

SELECT m.conversation_id,
CASE WHEN m.sender_id = ? THEN u2.user_name ELSE u1.user_name END AS other_name,
COALESCE(MAX(cm.sent_at), m.start_date) AS last_message_time,
CASE
WHEN m.receiver_id = ? THEN m.unseen
ELSE m.unseen_2
END AS unseen
FROM Messages m
JOIN Users u1 ON u1.id = m.sender_id
JOIN Users u2 ON u2.id = m.receiver_id
LEFT JOIN ChatMessages cm ON cm.conversation_id = m.conversation_id
WHERE m.sender_id = ? OR m.receiver_id = ?
GROUP BY m.conversation_id, other_name, m.start_date, m.unseen, m.unseen_2
ORDER BY last_message_time DESC;

[SQL queries to support complex search weighting and filtering](inc/functions.php):

**Prompt:**

(pasted the current schema.sql file first, it's in db/init/schema.sql), I want to build a PHP functions that performs an advanced search through my Listings table, ranking results by how relevant the title/description are to a term and by popularity (likes – dislikes). How should I write the SQL for that?

**Output:**

You can achieve that by combining a CASE expression (for relevance scoring) with a popularity metric and a simple ORDER BY.

**Prompt:**

(pasted the current schema.sql file first, it's in db/init/schema.sql), I also have an Availability table linked by listing_id. Could we adapt the same search so it only returns listings available on a given day and within a start/end time window?

**Output:**

Perfect use case for a JOIN — you can connect your listings to their availability slots and add time-based filters.

> Note that all these queries involve pasting the schema.sql file in to save room I didn't paste that in here for each time.

---

### Hans Pujalte, FAN: PUJA0009

ALL AI acknowledgements will be made here. The AI I used for my parts were from:

- (2025). ChatGPT (October, 2025, ChatGPT 5) [Large language model]. https://chat.openai.com/chat

**Prompt:**

"Can you help me write JavaScript that uses AJAX (fetch) to submit an edit form to a PHP file, close the modal, and reload the page after it updates?"

**Output:**

    editForm.addEventListener("submit", function (e) {
    e.preventDefault();
    const formData = new FormData(editForm); // Collect form data

    // Send data to server
    fetch("edit_user.php", {
      method: "POST",
      body: formData,
    })
      .then((response) => response.text())
      .then((data) => {
        modal.style.display = "none"; // Close modal
        location.reload(); // Refresh to show updates
      })
      .catch((error) => console.error("Error:", error));

    });

[AJAX Form Submission](admin/suspend_modal.js):

**Prompt:**

“Do I need to use enctype="multipart/form-data" in my HTML form if I want to upload files with PHP? Can you show me how to write the form tag correctly?”

**Output:**

Yes, you need to use enctype="multipart/form-data" whenever your form includes file uploads. This encoding type allows the browser to send both text fields and binary file data properly to the server.

[Enctype usage and explanation](user/view_profile.php):

**Prompt:**

“How can I handle a profile picture upload in PHP so it saves the file in a user_pfp folder, checks for valid image types, renames it using the user’s ID, and refreshes the page after upload?”

**Output:**

    if (!empty($_FILES['profile_pic']['name']) && !empty($user_id)) {
    $upload_dir = **DIR** . '/../images/user_pfp/'; // make sure path exists

    // Create directory if it doesn't exist
    if (!is_dir($upload_dir)) {
        mkdir($upload_dir, 0755, true);
    }

    $tmp_name = $_FILES['profile_pic']['tmp_name'];
    $original_name = $_FILES['profile_pic']['name'];
    $file_ext = strtolower(pathinfo($original_name, PATHINFO_EXTENSION));
    $allowed = ['png', 'jpg', 'jpeg', 'gif'];

    if (in_array($file_ext, $allowed)) {
        // Save uploaded image as user_id.png for consistency
        $target_file = $upload_dir . $user_id . '.png';

        if (move_uploaded_file($tmp_name, $target_file)) {
            $message = "Profile picture updated successfully!";
            header("Location: " . $_SERVER['REQUEST_URI']); // refresh to show new image
        } else {
            $message = "Failed to upload profile picture. Please try again.";
        }
    }

    }

[AJAX Form Submission](user/edit_profile.php):

---
